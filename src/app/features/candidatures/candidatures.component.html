<div class="p-6">

  <h1 class="text-2xl font-bold mb-6">Mes Candidatures</h1>

  <!-- Loader -->
  <div *ngIf="loading" class="text-center text-gray-500">
    Chargement...
  </div>

  <!-- Empty -->
  <div *ngIf="!loading && applications.length === 0" class="text-center text-gray-500">
    Aucune candidature suivie pour le moment.
  </div>

  <!-- List -->
  <div class="grid gap-4" *ngIf="applications.length > 0">

    <div *ngFor="let app of applications" class="border rounded-xl p-4 shadow-sm bg-white">

      <h2 class="text-lg font-bold">{{ app.title }}</h2>

      <p class="text-gray-600">
        {{ app.company }} ‚Ä¢ üìç {{ app.location }}
      </p>

      <p class="text-gray-400 text-sm mt-1">
        Ajout√©e le : {{ app.dateAdded | date }}
      </p>

      <!-- Status -->
      <div class="mt-3 flex items-center gap-3">
        <span class="font-medium">Statut :</span>

  <select 
  class="border rounded px-2 py-1"
  [value]="app.status"
  (change)="updateStatus(app, $event)">
  
  <option value="en_attente">En attente</option>
  <option value="accepte">Accept√©e</option>
  <option value="refuse">Refus√©e</option>
</select>

      </div>

      <!-- Actions -->
      <div class="mt-4 flex justify-between items-center">

        <a 
          [href]="app.url" 
          target="_blank"
          class="text-blue-600 underline">
          Voir l'offre
        </a>

        <button 
          (click)="remove(app.id)"
          class="text-red-600 font-medium hover:underline">
          Supprimer
        </button>

      </div>

    </div>

  </div>

</div>
