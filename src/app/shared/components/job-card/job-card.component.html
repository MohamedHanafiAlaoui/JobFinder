<!-- src/app/shared/components/job-card/job-card.component.html -->
<div class="border rounded-xl p-6 shadow-md hover:shadow-lg transition bg-white flex flex-col gap-4">

  <!-- Header -->
  <div>
    <h2 class="text-xl font-bold text-gray-900 leading-tight">
      {{ job.name }}
    </h2>

    <div class="flex items-center gap-3 text-gray-600 mt-1">
      <span class="font-medium">{{ job.company?.name }}</span>
      <span class="text-gray-400">‚Ä¢</span>
      <span class="flex items-center gap-1">
        üìç {{ job.locations?.[0]?.name }}
      </span>
    </div>
  </div>

  <!-- Description -->
  <p class="text-gray-700 text-sm line-clamp-3">
    {{ job.contents | stripHtml }}
  </p>

  <!-- Footer -->
  <div class="flex justify-between items-center mt-2">

    <p class="text-gray-400 text-xs">
      Published: {{ job.publication_date | date }}
    </p>

    <a 
      [href]="job.refs?.landing_page"
      target="_blank"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition">
      View Job
    </a>

    <!-- FAVORITE BUTTON -->
    <button *ngIf="isLogged()" (click)="toggleFavorite()"> 
      <span 
        class="text-2xl transition"
        [class.text-red-500]="isFav()"
        [class.text-gray-300]="!isFav()">
        ‚ô•
      </span> 
    </button>

    <!-- APPLICATION BUTTON -->
    <button 
      *ngIf="isLogged()" 
      (click)="toggleApplication()"
      class="px-3 py-1 rounded-lg text-sm font-medium transition"
      [class.bg-green-600]="isTracked"
      [class.bg-gray-300]="!isTracked"
      [class.text-white]="isTracked">
      {{ isTracked ? 'D√©j√† suivi' : 'Suivre cette candidature' }}
    </button>

  </div>

</div>
